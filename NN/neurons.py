import pandas as pd
import numpy as np
import seaborn as sns
from matplotlib import pyplot as plt

MAPE_matrix = np.array([[[[0.59289364, 0.60063194, 0.47101128, 0.51821983],
         [0.26337009, 1.        , 0.47463493, 0.58782413],
         [0.45652367, 0.5960791 , 0.59609715, 0.53310543],
         [0.51760193, 0.57696278, 0.34104855, 0.6008955 ]],

        [[0.5439666 , 0.54515369, 0.5901326 , 0.49445774],
         [0.30722645, 0.48626259, 0.26232595, 0.45222485],
         [0.52506485, 0.4430386 , 0.59210285, 0.48182224],
         [0.28177618, 0.48788574, 0.56226696, 0.39224602]],

        [[0.47869274, 1.        , 0.59353008, 1.        ],
         [0.2378587 , 0.48417923, 0.35193764, 0.58283695],
         [0.59211697, 0.50495167, 0.31855646, 0.60476624],
         [0.5050494 , 0.57864971, 0.53691952, 0.58667431]]],


       [[[0.48964714, 1.        , 0.58711323, 0.5153331 ],
         [0.46917332, 0.44571377, 0.47549679, 0.45048233],
         [0.35219383, 0.595495  , 0.5032954 , 0.50789158],
         [0.56126732, 0.51872185, 0.53482105, 0.60165886]],

        [[0.49624863, 1.        , 0.22611252, 0.57708115],
         [0.49949043, 0.50452557, 1.        , 0.45825161],
         [1.        , 1.        , 0.39146038, 0.33958942],
         [0.52277191, 0.58008427, 0.26501116, 0.56080921]],

        [[1.        , 0.58992821, 0.46328896, 0.5906329 ],
         [0.58293644, 0.58054241, 0.49968185, 0.45981831],
         [1.        , 0.23459366, 0.26136822, 0.22019888],
         [0.52038845, 0.51557331, 0.29493032, 0.24218849]]],


       [[[0.59221626, 1.        , 1.        , 0.52639374],
         [0.55357994, 0.35077797, 0.46610279, 0.47333076],
         [0.59488384, 1.        , 0.47713459, 1.        ],
         [0.51265091, 0.59271816, 0.5844342 , 1.        ]],

        [[0.47373222, 0.50939846, 0.53521603, 0.50208706],
         [0.57460979, 0.33115868, 0.5091724 , 0.59345257],
         [1.        , 0.5411425 , 0.59031345, 0.23496103],
         [0.23943779, 0.49129768, 0.34407734, 0.59561924]],

        [[0.48739029, 1.        , 0.30725925, 0.57692341],
         [0.57912365, 0.23094637, 0.51007046, 0.28701912],
         [0.59098564, 0.5156118 , 0.49167255, 0.52281239],
         [0.5332703 , 1.        , 0.58611725, 0.5828093 ]]]])
a = MAPE_matrix
net1_02 = np.zeros((3,3))
net1_03 = np.zeros((3,3))
net1_04 = np.zeros((3,3))
net1_05 = np.zeros((3,3))

for l1 in [0,1,2]:
    for l2 in [0,1,2]:
        net1_02[l1][l2] = sum(sum(np.logical_and(a[l1][l2]<0.3 , a[l1][l2]>0.2)))
        print(net1_02)
        
for l1 in [0,1,2]:
    for l2 in [0,1,2]:
        net1_03[l1][l2] = sum(sum(np.logical_and(a[l1][l2]>0.3 , a[l1][l2]<0.4)))
        print(net1_03)
        
for l1 in [0,1,2]:
    for l2 in [0,1,2]:
        net1_04[l1][l2] = sum(sum(np.logical_and(a[l1][l2]>0.4 , a[l1][l2]<0.5)))
        print(net1_04)
        
for l1 in [0,1,2]:
    for l2 in [0,1,2]:
        net1_05[l1][l2] = sum(sum(a[l1][l2]>0.5))
        print(net1_05)
                
net2_05 = np.zeros((4,4))        
# for l1 in [0,1,2,3]:
#     for l2 in [0,1,2,3]:
#         net2_05[:][:][l1][l2] = sum(sum(a[:][:][l1][l2]>0.5))
#         print(net2_05)
#         q=1        



mape_02 = []
mape_03 = []
mape_04 = []
mape_05 = []
matrix_05 = np.argwhere(a>0.5)
matrix_05_net2_layer2 = matrix_05[:,0]
matrix_05_net2_layer1 = matrix_05[:,1]
matrix_05_net2_layer1 = matrix_05[:,1]
matrix_05_net2_layer1 = matrix_05[:,1]
ass=1